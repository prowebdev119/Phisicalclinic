<!DOCTYPE html>
<html>
<head>
	<title>Clinical Panel</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="assets/css/clinical/common.css">
    <link rel="stylesheet" type="text/css" href="assets/css/clinical/consolution.css">
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
</head>
<body>
    <div class="clinical">
        <!-- left panel start -->
        <aside class="clinical_left">
            <!-- navbar top start -->
            <div class="top-nav">
                <a class="navlink_img"><img src="assets/images/clinical/white_logo.png" alt=""></a>
                <a class="navlink" href="availability.html">Availability</a>
                <a class="navlink nav_active" href="consolution.html">Consultations</a>
                <a class="navlink" href="patients.html">Patients</a>
            </div>
            <!-- navbar bottom start -->
            <div class="bottom-nav">
                <a class="bottom_link" href="">Account</a>
                <a class="bottom_link" href="">Log out</a>
            </div>
        </aside>
        <!--  right panel start -->
        <main class="clinical_right">
            <div class="options">
                <div class="date">
                    <button class="prev"><</button>
                    <button>TODAY</button>
                    <button>MONDAY 21 NOV, 2021</button>
                    <button class="next">></button>
                </div>
                <div class="patients">
                    <section>
                        <select>
                            <option value="1" selected>All Patients</option>
                            <option value="2">section1</option>
                            <option value="3">section2</option>
                            <option value="4">section3</option>
                            <option value="5">section4</option>
                            <option value="6">section5</option>
                            <option value="7">section6</option>
                            <option value="8">section7</option>
                            <option value="9">section8</option>
                            <option value="10">section9</option>
                        </select>
                    </section>
                </div>
            </div>
            <!-- timeline -->
            <div>
                <div class="panel">
                    <div class="time">
                        <div class="mouseTime">12:00</div>
                    </div>
                    <div class="schedule">
                        <hr class="mouseLine"/>
                        <div class="timeline">
                            <!-- M -->
                            <div class="timeline1">
                                <div class="box black -am-09-00"></div>
                                <div class="box black -am-10-00"></div>
                                <div class="box -am-11-00">
                                    <div class="content purple">
                                        <div class="boxTime">11:00am - 12:00pm</div>
                                        <div class="boxName">Alfred Massey</div>
                                        <div class="boxContent">Lower Back</div>
                                    </div>
                                </div>
                                <div class="box -am-12-30">
                                    <div class="content skyBlue">
                                        <div class="boxTime">11:00am - 12:00pm</div>
                                        <div class="boxName">Alfred Massey</div>
                                        <div class="boxContent">Lower Back</div>
                                    </div>
                                </div>
                                <div class="box -pm-03-00">
                                    <div class="content green">
                                        <div class="boxTime">11:00am - 12:00pm</div>
                                        <div class="boxName">Alfred Massey</div>
                                        <div class="boxContent">Lower Back</div>
                                    </div>
                                </div>
                                <div class="box black -pm-06-00"></div>
                                <div class="box black -pm-07-00"></div>
                                <div class="box black -pm-08-00"></div>
                                <div class="box black -pm-09-00"></div>
                            </div>
                            <!-- Tuesday -->
                            <div class="timeline1">
                                <div class="box -am-10-00">
                                    <div class="content skyBlue">
                                        <div class="boxTime">11:00am - 12:00pm</div>
                                        <div class="boxName">Alfred Massey</div>
                                        <div class="boxContent">Lower Back</div>
                                    </div>
                                </div>
                                <div class="box -am-12-00">
                                    <div class="content green">
                                        <div class="boxTime">11:00am - 12:00pm</div>
                                        <div class="boxName">Alfred Massey</div>
                                        <div class="boxContent">Lower Back</div>
                                    </div>
                                </div>
                                <div class="box -pm-01-00">
                                    <div class="content pink">
                                        <div class="boxTime">11:00am - 12:00pm</div>
                                        <div class="boxName">Alfred Massey</div>
                                        <div class="boxContent">Lower Back</div>
                                    </div>
                                </div>
                                <div class="box -pm-02-00">
                                    <div class="content yellow">
                                        <div class="boxTime">11:00am - 12:00pm</div>
                                        <div class="boxName">Alfred Massey</div>
                                        <div class="boxContent">Lower Back</div>
                                    </div>
                                </div>
                                <div class="box black -pm-06-00"></div>
                                <div class="box black -pm-07-00"></div>
                                <div class="box black -pm-08-00"></div>
                                <div class="box black -pm-09-00"></div>
                            </div>
                            <!-- Wednesday -->
                            <div class="timeline1">
                                <div class="box black -am-09-00"></div>
                                <div class="box -am-12-00">
                                    <div class="content purple">
                                        <div class="boxTime">11:00am - 12:00pm</div>
                                        <div class="boxName">Alfred Massey</div>
                                        <div class="boxContent">Lower Back</div>
                                    </div>
                                </div>
                                <div class="box black -pm-06-00"></div>
                                <div class="box black -pm-07-00"></div>
                                <div class="box black -pm-08-00"></div>
                                <div class="box black -pm-09-00"></div>
                            </div>
                            <!-- Thursday -->
                            <div class="timeline1">
                                <div class="box black -am-09-00"></div>
                                <div class="box -am-10-00">
                                    <div class="content pink">
                                        <div class="boxTime">11:00am - 12:00pm</div>
                                        <div class="boxName">Alfred Massey</div>
                                        <div class="boxContent">Lower Back</div>
                                    </div>
                                </div>
                                <div class="box -am-11-30">
                                    <div class="content skyBlue ">
                                        <div class="boxTime">11:00am - 12:00pm</div>
                                        <div class="boxName">Alfred Massey</div>
                                        <div class="boxContent">Lower Back</div>
                                    </div>
                                </div>
                                <div class="box -pm-02-00">
                                    <div class="content green">
                                        <div class="boxTime">11:00am - 12:00pm</div>
                                        <div class="boxName">Alfred Massey</div>
                                        <div class="boxContent">Lower Back</div>
                                    </div>
                                </div>
                                <div class="box black -pm-06-00"></div>
                                <div class="box black -pm-07-00"></div>
                                <div class="box black -pm-08-00"></div>
                                <div class="box black -pm-09-00"></div>
                            </div>
                            <!-- Friday -->
                            <div class="timeline1">
                                <div class="box -am-09-00">
                                    <div class="content green">
                                        <div class="boxTime">11:00am - 12:00pm</div>
                                        <div class="boxName">Alfred Massey</div>
                                        <div class="boxContent">Lower Back</div>
                                    </div>
                                </div>
                                <div class="box -am-12-00">
                                    <div class="content pink">
                                        <div class="boxTime">11:00am - 12:00pm</div>
                                        <div class="boxName">Alfred Massey</div>
                                        <div class="boxContent">Lower Back</div>
                                    </div>
                                </div>
                                <div class="box -pm-03-00">
                                    <div class="content purple">
                                        <div class="boxTime">11:00am - 12:00pm</div>
                                        <div class="boxName">Alfred Massey</div>
                                        <div class="boxContent">Lower Back</div>
                                    </div>
                                </div>
                                <div class="box black -pm-06-00"></div>
                                <div class="box black -pm-07-00"></div>
                                <div class="box black -pm-08-00"></div>
                                <div class="box black -pm-09-00"></div>
                            </div>
                            <!-- Saturday -->
                            <div class="timeline1">
                                <div class="box black -pm-06-00"></div>
                                <div class="box black -pm-07-00"></div>
                                <div class="box black -pm-08-00"></div>
                                <div class="box black -pm-09-00"></div>
                            </div>
                            <!-- Sunday -->
                            <div class="timeline1">
                                <div class="box black -am-09-00"></div>
                                <div class="box -am-12-30">
                                    <div class="content skyBlue">
                                        <div class="boxTime">11:00am - 12:00pm</div>
                                        <div class="boxName">Alfred Massey</div>
                                        <div class="boxContent">Lower Back</div>
                                    </div>
                                </div>
                                <div class="box black -pm-06-00"></div>
                                <div class="box black -pm-07-00"></div>
                                <div class="box black -pm-08-00"></div>
                                <div class="box black -pm-09-00"></div>
                            </div>
                        </div>
                        <div class="background">
                        </div>
                    </div>
                </div>
            </div>  
        </main>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(function(){
            var background_content = '';
            var time_block = '';
            var hour = 9;
            time_block += '<div class="mouseTime">12:00</div>';
            for( var i = 0;i < 13; i++){
                if (hour + i < 13) 
                    time_block += '<div class="time_block"><span>'+(hour + i)+':00</span><br><span>am</span></div>';
                else
                    time_block += '<div class="time_block"><span>'+(hour + i - 12)+':00</span><br><span>pm</span></div>';
                for (var k = 0 ; k < 4; k++ ){
                    
                    background_content += '<div class="inline">';
                        for (var j = 0; j < 7; j++) {
                            if (k < 1) 
                                background_content += '<div class="lineTopBorder"></div>';
                            else
                                background_content += '<div class="line"></div>';
                        }
                    background_content += '</div>';
                }
            }
            $('.time').html(time_block);
            $('.background').html(background_content);
            $('.timeline').find('.box').each(function (i, el) {
                var attr = $(el).attr('class').split('-');
                var marginTop = 0;
                if (attr.length == 4 ){
                    if (attr[1] == 'am') {
                        // am
                        marginTop += 2 + (attr[2]*1-9)*61;
                    } else {
                        // pm
                        marginTop += 246;
                        marginTop += (attr[2]*1-1)*61;
                    }
                    marginTop += (attr[3]*1);
                }
                $(el).css('margin-top', marginTop+'px');
            });
            $('.mouseLine').css('display', 'none');
            $('.mouseTime').css('display', 'none');
            //mouse position
            document.onmousemove = handleMouseMove;
            function handleMouseMove(event) {
                var eventDoc, doc, body;

                event = event || window.event; // IE-ism

                // If pageX/Y aren't available and clientX/Y are,
                // calculate pageX/Y - logic taken from jQuery.
                // (This is to support old IE)
                if (event.pageX == null && event.clientX != null) {
                    eventDoc = (event.target && event.target.ownerDocument) || document;
                    doc = eventDoc.documentElement;
                    body = eventDoc.body;

                    event.pageX = event.clientX +
                    (doc && doc.scrollLeft || body && body.scrollLeft || 0) -
                    (doc && doc.clientLeft || body && body.clientLeft || 0);
                    event.pageY = event.clientY +
                    (doc && doc.scrollTop  || body && body.scrollTop  || 0) -
                    (doc && doc.clientTop  || body && body.clientTop  || 0 );
                }

                // Use event.pageX / event.pageY here
                if(event.pageY > 144 && event.pageY < 938){
                    $('.mouseLine').css('display', '');
                    $('.mouseTime').css('display', '');
                    console.log(event.pageY);
                    $('.mouseLine').css('margin-top', event.pageY - 144 +'px');
                    $('.mouseTime').css('margin-top', event.pageY - 154 +'px');
                    var time;
                    if (Math.floor((event.pageY - 145)/61) > 3) 
                        time = Math.floor((event.pageY - 145)/61)-3;
                    else
                    time = Math.floor((event.pageY - 145)/61)+9;
                    if ((event.pageY - 145)%61 > 59) 
                        time += ":00";
                    else
                        time += ':'+(event.pageY - 145)%61;
                    if (event.pageY > 388)
                        time +='pm';
                    else
                        time += 'am';
                    $('.mouseTime').html(time);
                } else {
                    $('.mouseLine').css('display', 'none');
                    $('.mouseTime').css('display', 'none');
                }
            }
        });
    </script>
</body>
</html>